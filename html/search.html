<script language="javascript" type="text/javascript">
	// Script created by BloodyScythe.	Copyright by BloodyScythe.
	// All rights reserved.
	
	const PATH_REGULAR_SPRITE	= "https://www.serebii.net/sunmoon/pokemon/";
	const PATH_SHINY_SPRITE		= "https://www.serebii.net/Shiny/SM/";
	const EXTENSION_SPRITE		= ".png";

	const MAX = 807;
	
	function searchNow() {

		let x, output;
		let max = MAX;
		
		do{
			//User input
			x = prompt(
`Nummer des gewünschten Pokémon (laut nationalem Pokédex) eingeben.

    1-151 Kanto
152-251 Johto
252-386 Hoenn
387-493 Sinnoh
494-649 Einall
650-721 Kalos
722-807 Alola`, "1");
			
			//Break out if user aborts the input
			if (x == null) {
				document.getElementById("result").innerHTML =
					"Suche abgebrochen.";
				return;
			}
			
			//Check if input is in range
			if(x < 1 || x > max){
				alert(`#${x}
PKMN nicht vorhanden!
Bitte um erneute Eingabe.`);
			}
			
		} while(x < 1 || x > max || isNaN(x))
		
		//Convert variables to strings for comparison
		x = x.toString();
		max = max.toString();
		
		//Append zeros to match the maximum length
		for (let i = x.length; i < max.length; i++) {
			x = "0" + x;
		}
		
		//Render output
		output = `
		<table>
			<tr>
				<td>
					<img src='${PATH_REGULAR_SPRITE}${x}${EXTENSION_SPRITE}'>
				</td>
				<td>
					<img src='${PATH_SHINY_SPRITE}${x}${EXTENSION_SPRITE}'>
				</td>
			</tr>
			<tr>
				<td align='center'><b>#${x}</b></td>
				<td><a href='http://pokefans.net/pokedex/pokemon/${x}'
				target='_blank'>auf&nbsp;Pokefans.net</a><br/>
				<a href='http://www.bisafans.de/pokedex/${x}.shtml'
				target='_blank'>auf&nbsp;Bisafans.de</a><br/>
				<a href='https://www.serebii.net/pokedex-sm/${x}.shtml'
				target='_blank'>auf&nbsp;Serebii.net</a></td>
			</tr>
		</table>
		`;
		
		//Cast ouput to DOM
		document.getElementById("result").innerHTML = output;
	}

	//Listener for key codes
	window.onkeyup = function(e) {
		let key = e.keyCode ? e.keyCode : e.which;
		
		//Press F to start a search
		if (key == 70) {
			searchNow();
		}
	}
</script>

<a href="?p=sprites">Zur&uuml;ck</a> ::
<a href="#" onClick="javascript:searchNow();">Suchen</a>

<div id="result">&nbsp;</div>

<p>F startet eine neue Suche.</p>
